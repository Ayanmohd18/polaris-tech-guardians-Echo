{"ast":null,"code":"import React,{useRef,useEffect}from'react';import{useFrame}from'@react-three/fiber';// Using Three.js lights directly\nimport*as THREE from'three';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function PhotonicShift(_ref){let{ambientMode}=_ref;const sunLightRef=useRef();const ambientLightRef=useRef();const transitionProgress=useRef(ambientMode?0:1);useFrame((state,delta)=>{const time=state.clock.getElapsedTime();// Smooth transition between modes\nconst targetProgress=ambientMode?0:1;transitionProgress.current=THREE.MathUtils.lerp(transitionProgress.current,targetProgress,delta*2);if(sunLightRef.current){// Sunrise/Sunset animation\nconst progress=transitionProgress.current;// Sun position (rises from side)\nconst sunAngle=(progress-0.5)*Math.PI;sunLightRef.current.position.set(Math.cos(sunAngle)*10,Math.sin(sunAngle)*5+2,5);// Sun intensity and color\nconst sunIntensity=Math.max(0,Math.sin(sunAngle))*2;sunLightRef.current.intensity=sunIntensity;// Color temperature shift\nconst warmth=progress;const sunColor=new THREE.Color().setHSL(0.1*(1-warmth),// Hue: blue to warm\n0.2+warmth*0.3,// Saturation\n0.8+warmth*0.2// Lightness\n);sunLightRef.current.color=sunColor;// Shadow properties for caustic effects\nsunLightRef.current.castShadow=progress>0.1;if(sunLightRef.current.shadow){sunLightRef.current.shadow.mapSize.width=2048;sunLightRef.current.shadow.mapSize.height=2048;sunLightRef.current.shadow.camera.near=0.5;sunLightRef.current.shadow.camera.far=50;sunLightRef.current.shadow.camera.left=-10;sunLightRef.current.shadow.camera.right=10;sunLightRef.current.shadow.camera.top=10;sunLightRef.current.shadow.camera.bottom=-10;}}if(ambientLightRef.current){// Ambient light adjustment\nconst progress=transitionProgress.current;// Ambient Mode: Low ambient, high contrast\n// Focus Mode: High ambient, soft shadows\nambientLightRef.current.intensity=ambientMode?0.2:0.8;// Color temperature\nconst ambientColor=new THREE.Color().setHSL(0.6*(1-progress),// Blue to neutral\n0.1+progress*0.2,// Low saturation\n0.3+progress*0.4// Brightness\n);ambientLightRef.current.color=ambientColor;}});return/*#__PURE__*/_jsxs(\"group\",{children:[/*#__PURE__*/_jsx(\"directionalLight\",{ref:sunLightRef,position:[-10,2,5],intensity:0,color:\"#ffffff\",castShadow:true}),/*#__PURE__*/_jsx(\"ambientLight\",{ref:ambientLightRef,intensity:ambientMode?0.2:0.8,color:\"#ffffff\"})]});}","map":{"version":3,"names":["React","useRef","useEffect","useFrame","THREE","jsx","_jsx","jsxs","_jsxs","PhotonicShift","_ref","ambientMode","sunLightRef","ambientLightRef","transitionProgress","state","delta","time","clock","getElapsedTime","targetProgress","current","MathUtils","lerp","progress","sunAngle","Math","PI","position","set","cos","sin","sunIntensity","max","intensity","warmth","sunColor","Color","setHSL","color","castShadow","shadow","mapSize","width","height","camera","near","far","left","right","top","bottom","ambientColor","children","ref"],"sources":["d:/polaries-tech guadians/echo-ui/src/components/PhotonicShift.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport { useFrame } from '@react-three/fiber';\n// Using Three.js lights directly\nimport * as THREE from 'three';\n\nexport function PhotonicShift({ ambientMode }) {\n  const sunLightRef = useRef();\n  const ambientLightRef = useRef();\n  const transitionProgress = useRef(ambientMode ? 0 : 1);\n\n  useFrame((state, delta) => {\n    const time = state.clock.getElapsedTime();\n    \n    // Smooth transition between modes\n    const targetProgress = ambientMode ? 0 : 1;\n    transitionProgress.current = THREE.MathUtils.lerp(\n      transitionProgress.current, \n      targetProgress, \n      delta * 2\n    );\n    \n    if (sunLightRef.current) {\n      // Sunrise/Sunset animation\n      const progress = transitionProgress.current;\n      \n      // Sun position (rises from side)\n      const sunAngle = (progress - 0.5) * Math.PI;\n      sunLightRef.current.position.set(\n        Math.cos(sunAngle) * 10,\n        Math.sin(sunAngle) * 5 + 2,\n        5\n      );\n      \n      // Sun intensity and color\n      const sunIntensity = Math.max(0, Math.sin(sunAngle)) * 2;\n      sunLightRef.current.intensity = sunIntensity;\n      \n      // Color temperature shift\n      const warmth = progress;\n      const sunColor = new THREE.Color().setHSL(\n        0.1 * (1 - warmth), // Hue: blue to warm\n        0.2 + warmth * 0.3, // Saturation\n        0.8 + warmth * 0.2  // Lightness\n      );\n      sunLightRef.current.color = sunColor;\n      \n      // Shadow properties for caustic effects\n      sunLightRef.current.castShadow = progress > 0.1;\n      if (sunLightRef.current.shadow) {\n        sunLightRef.current.shadow.mapSize.width = 2048;\n        sunLightRef.current.shadow.mapSize.height = 2048;\n        sunLightRef.current.shadow.camera.near = 0.5;\n        sunLightRef.current.shadow.camera.far = 50;\n        sunLightRef.current.shadow.camera.left = -10;\n        sunLightRef.current.shadow.camera.right = 10;\n        sunLightRef.current.shadow.camera.top = 10;\n        sunLightRef.current.shadow.camera.bottom = -10;\n      }\n    }\n    \n    if (ambientLightRef.current) {\n      // Ambient light adjustment\n      const progress = transitionProgress.current;\n      \n      // Ambient Mode: Low ambient, high contrast\n      // Focus Mode: High ambient, soft shadows\n      ambientLightRef.current.intensity = ambientMode ? 0.2 : 0.8;\n      \n      // Color temperature\n      const ambientColor = new THREE.Color().setHSL(\n        0.6 * (1 - progress), // Blue to neutral\n        0.1 + progress * 0.2, // Low saturation\n        0.3 + progress * 0.4  // Brightness\n      );\n      ambientLightRef.current.color = ambientColor;\n    }\n  });\n\n  return (\n    <group>\n      {/* Directional Light (Sun) */}\n      <directionalLight\n        ref={sunLightRef}\n        position={[-10, 2, 5]}\n        intensity={0}\n        color=\"#ffffff\"\n        castShadow\n      />\n      \n      {/* Ambient Light */}\n      <ambientLight\n        ref={ambientLightRef}\n        intensity={ambientMode ? 0.2 : 0.8}\n        color=\"#ffffff\"\n      />\n      \n      {/* Additional atmospheric effects could go here */}\n      {/* Fog, volumetric lighting, etc. */}\n    </group>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}