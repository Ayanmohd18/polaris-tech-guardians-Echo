{"ast":null,"code":"import React,{useRef,useMemo}from'react';import{useFrame}from'@react-three/fiber';import{Plane}from'@react-three/drei';import*as THREE from'three';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function SentientGlass(_ref){let{cognitiveState,mousePosition,ambientMode,blur}=_ref;const glass1Ref=useRef();const glass2Ref=useRef();const glass3Ref=useRef();const glass4Ref=useRef();// Create glass material with dynamic properties\nconst glassMaterial=useMemo(()=>{return new THREE.MeshPhysicalMaterial({transmission:0.9,opacity:0.1,roughness:0.1,thickness:0.5,envMapIntensity:1.5,clearcoat:1,clearcoatRoughness:0.1,transparent:true,side:THREE.DoubleSide});},[]);// Animate glass panes based on cognitive state and mouse position\nuseFrame((state,delta)=>{const time=state.clock.getElapsedTime();// Parallax effect based on mouse position\nconst parallaxStrength=cognitiveState==='FLOWING'?0.02:0.05;if(glass1Ref.current){glass1Ref.current.position.x=mousePosition.x*parallaxStrength;glass1Ref.current.position.y=mousePosition.y*parallaxStrength*0.5;glass1Ref.current.rotation.y=Math.sin(time*0.5)*0.02;}if(glass2Ref.current){glass2Ref.current.position.x=mousePosition.x*parallaxStrength*0.7;glass2Ref.current.position.y=mousePosition.y*parallaxStrength*0.3;glass2Ref.current.position.z=-0.5+Math.sin(time*0.3)*0.1;}if(glass3Ref.current){glass3Ref.current.position.x=mousePosition.x*parallaxStrength*0.5;glass3Ref.current.position.y=mousePosition.y*parallaxStrength*0.7;glass3Ref.current.position.z=-1+Math.cos(time*0.4)*0.1;}if(glass4Ref.current){glass4Ref.current.position.x=mousePosition.x*parallaxStrength*0.3;glass4Ref.current.position.y=mousePosition.y*parallaxStrength*0.4;glass4Ref.current.position.z=-1.5+Math.sin(time*0.6)*0.05;}// Update material properties based on cognitive state\nconst targetOpacity=getOpacityForState(cognitiveState);const targetTransmission=getTransmissionForState(cognitiveState);glassMaterial.opacity=THREE.MathUtils.lerp(glassMaterial.opacity,targetOpacity,delta*2);glassMaterial.transmission=THREE.MathUtils.lerp(glassMaterial.transmission,targetTransmission,delta*2);// Frustration glitch effect\nif(cognitiveState==='FRUSTRATED'){glassMaterial.opacity+=Math.sin(time*20)*0.1;glassMaterial.roughness=0.1+Math.random()*0.2;}else{glassMaterial.roughness=THREE.MathUtils.lerp(glassMaterial.roughness,0.1,delta*5);}});const getOpacityForState=state=>{switch(state){case'FLOWING':return 0.02;// Nearly invisible\ncase'STUCK':return 0.15;// More visible\ncase'FRUSTRATED':return 0.2;// Most visible\ncase'IDLE':return 0.1;// Moderate\ndefault:return 0.1;}};const getTransmissionForState=state=>{switch(state){case'FLOWING':return 0.98;// Maximum transparency\ncase'STUCK':return 0.8;// Reduced transparency\ncase'FRUSTRATED':return 0.7;// More opaque\ncase'IDLE':return 0.9;// High transparency\ndefault:return 0.9;}};return/*#__PURE__*/_jsxs(\"group\",{children:[/*#__PURE__*/_jsx(Plane,{ref:glass1Ref,args:[8,6],position:[0,0,0],material:glassMaterial}),/*#__PURE__*/_jsx(Plane,{ref:glass2Ref,args:[7,5],position:[0.2,-0.1,-0.5],material:glassMaterial}),/*#__PURE__*/_jsx(Plane,{ref:glass3Ref,args:[6,4],position:[-0.1,0.2,-1],material:glassMaterial}),/*#__PURE__*/_jsx(Plane,{ref:glass4Ref,args:[5,3],position:[0.1,-0.2,-1.5],material:glassMaterial})]});}","map":{"version":3,"names":["React","useRef","useMemo","useFrame","Plane","THREE","jsx","_jsx","jsxs","_jsxs","SentientGlass","_ref","cognitiveState","mousePosition","ambientMode","blur","glass1Ref","glass2Ref","glass3Ref","glass4Ref","glassMaterial","MeshPhysicalMaterial","transmission","opacity","roughness","thickness","envMapIntensity","clearcoat","clearcoatRoughness","transparent","side","DoubleSide","state","delta","time","clock","getElapsedTime","parallaxStrength","current","position","x","y","rotation","Math","sin","z","cos","targetOpacity","getOpacityForState","targetTransmission","getTransmissionForState","MathUtils","lerp","random","children","ref","args","material"],"sources":["d:/polaries-tech guadians/echo-ui/src/components/SentientGlass.js"],"sourcesContent":["import React, { useRef, useMemo } from 'react';\nimport { useFrame } from '@react-three/fiber';\nimport { Plane } from '@react-three/drei';\nimport * as THREE from 'three';\n\nexport function SentientGlass({ cognitiveState, mousePosition, ambientMode, blur }) {\n  const glass1Ref = useRef();\n  const glass2Ref = useRef();\n  const glass3Ref = useRef();\n  const glass4Ref = useRef();\n\n  // Create glass material with dynamic properties\n  const glassMaterial = useMemo(() => {\n    return new THREE.MeshPhysicalMaterial({\n      transmission: 0.9,\n      opacity: 0.1,\n      roughness: 0.1,\n      thickness: 0.5,\n      envMapIntensity: 1.5,\n      clearcoat: 1,\n      clearcoatRoughness: 0.1,\n      transparent: true,\n      side: THREE.DoubleSide,\n    });\n  }, []);\n\n  // Animate glass panes based on cognitive state and mouse position\n  useFrame((state, delta) => {\n    const time = state.clock.getElapsedTime();\n    \n    // Parallax effect based on mouse position\n    const parallaxStrength = cognitiveState === 'FLOWING' ? 0.02 : 0.05;\n    \n    if (glass1Ref.current) {\n      glass1Ref.current.position.x = mousePosition.x * parallaxStrength;\n      glass1Ref.current.position.y = mousePosition.y * parallaxStrength * 0.5;\n      glass1Ref.current.rotation.y = Math.sin(time * 0.5) * 0.02;\n    }\n    \n    if (glass2Ref.current) {\n      glass2Ref.current.position.x = mousePosition.x * parallaxStrength * 0.7;\n      glass2Ref.current.position.y = mousePosition.y * parallaxStrength * 0.3;\n      glass2Ref.current.position.z = -0.5 + Math.sin(time * 0.3) * 0.1;\n    }\n    \n    if (glass3Ref.current) {\n      glass3Ref.current.position.x = mousePosition.x * parallaxStrength * 0.5;\n      glass3Ref.current.position.y = mousePosition.y * parallaxStrength * 0.7;\n      glass3Ref.current.position.z = -1 + Math.cos(time * 0.4) * 0.1;\n    }\n    \n    if (glass4Ref.current) {\n      glass4Ref.current.position.x = mousePosition.x * parallaxStrength * 0.3;\n      glass4Ref.current.position.y = mousePosition.y * parallaxStrength * 0.4;\n      glass4Ref.current.position.z = -1.5 + Math.sin(time * 0.6) * 0.05;\n    }\n\n    // Update material properties based on cognitive state\n    const targetOpacity = getOpacityForState(cognitiveState);\n    const targetTransmission = getTransmissionForState(cognitiveState);\n    \n    glassMaterial.opacity = THREE.MathUtils.lerp(glassMaterial.opacity, targetOpacity, delta * 2);\n    glassMaterial.transmission = THREE.MathUtils.lerp(glassMaterial.transmission, targetTransmission, delta * 2);\n    \n    // Frustration glitch effect\n    if (cognitiveState === 'FRUSTRATED') {\n      glassMaterial.opacity += Math.sin(time * 20) * 0.1;\n      glassMaterial.roughness = 0.1 + Math.random() * 0.2;\n    } else {\n      glassMaterial.roughness = THREE.MathUtils.lerp(glassMaterial.roughness, 0.1, delta * 5);\n    }\n  });\n\n  const getOpacityForState = (state) => {\n    switch (state) {\n      case 'FLOWING': return 0.02; // Nearly invisible\n      case 'STUCK': return 0.15;   // More visible\n      case 'FRUSTRATED': return 0.2; // Most visible\n      case 'IDLE': return 0.1;     // Moderate\n      default: return 0.1;\n    }\n  };\n\n  const getTransmissionForState = (state) => {\n    switch (state) {\n      case 'FLOWING': return 0.98; // Maximum transparency\n      case 'STUCK': return 0.8;    // Reduced transparency\n      case 'FRUSTRATED': return 0.7; // More opaque\n      case 'IDLE': return 0.9;     // High transparency\n      default: return 0.9;\n    }\n  };\n\n  return (\n    <group>\n      {/* Glass Pane 1 - Frontmost */}\n      <Plane\n        ref={glass1Ref}\n        args={[8, 6]}\n        position={[0, 0, 0]}\n        material={glassMaterial}\n      />\n      \n      {/* Glass Pane 2 */}\n      <Plane\n        ref={glass2Ref}\n        args={[7, 5]}\n        position={[0.2, -0.1, -0.5]}\n        material={glassMaterial}\n      />\n      \n      {/* Glass Pane 3 */}\n      <Plane\n        ref={glass3Ref}\n        args={[6, 4]}\n        position={[-0.1, 0.2, -1]}\n        material={glassMaterial}\n      />\n      \n      {/* Glass Pane 4 - Backmost */}\n      <Plane\n        ref={glass4Ref}\n        args={[5, 3]}\n        position={[0.1, -0.2, -1.5]}\n        material={glassMaterial}\n      />\n    </group>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}